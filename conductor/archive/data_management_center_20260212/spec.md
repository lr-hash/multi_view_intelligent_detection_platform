# 规格说明书 (spec.md) - 数据管理中心 (Data Management Center)

## 1. 概述 (Overview)
本任务旨在系统侧边栏新增一个“数据管理中心”模块。该模块允许管理员手动录入、批量导入、编辑、删除以及搜索各类系统数据（包括监测数据、压裂数据、系统配置及基础档案），以解决自动化采集以外的数据补录与维护需求。

## 2. 角色与权限 (Roles & Permissions)
- **普通用户 (USER)**: 仅能访问管理中心并查看/筛选数据。
- **管理员 (ADMIN)**: 拥有完整权限，包括：手动新增数据、批量导入 (Excel/CSV)、编辑现有记录、删除冗余记录。

## 3. 功能需求 (Functional Requirements)
### 3.1 导航与交互
- 在主界面侧边栏新增“数据管理”项。
- 提供分类选择界面，按类别（监测、压裂、配置、档案）展示可管理的数据表。
- 采用专用表单设计，根据所选数据类型动态呈现输入项。

### 3.2 核心操作 (CRUD)
- **手动新增**: 支持针对每张表的所有字段进行值录入。
- **编辑/更新**: 支持对已有记录的快速修改。
- **删除**: 支持单条或批量删除数据记录。
- **搜索与筛选**: 支持按时间范围、测点名称、数据类型等维度进行列表过滤。

### 3.3 批量导入 (Import)
- 支持 Excel/CSV 文件上传。
- 提供导入预览与错误报告（标识格式错误或重复数据）。

### 3.4 数据校验 (Validation)
- **格式校验**: 强制执行数据库字段类型约束（如：数字、日期）。
- **完整性检查**: 验证外键关联（如：录入数据前检查测点是否存在）。
- **逻辑校验**: 验证物理量程合理性（如：压力值非负、角度范围等）。

## 4. 覆盖的数据范围 (Data Scope)
- **监测数据**: KJ653 (顶板压力)、SOS (微震)、巷道变形等。
- **压裂数据**: 钻孔设计、分段参数、施工日志。
- **系统配置**: 报警阈值、设备通信参数。
- **基础档案**: 测点信息、工作面基本参数。

## 5. 验收标准 (Acceptance Criteria)
- 管理员能够通过 UI 界面向数据库中成功插入一条微震记录并立即在列表中查看到。
- 非管理员用户无法看到“新增/导入/删除”按钮。
- 上传格式不正确的 Excel 文件时，系统应给出明确的错误提示。
- 删除记录后，数据库及前端列表同步更新。
